<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>News Portal Website</title>
    <!-- CUSTOM STYLESHEET -->
    <link rel="stylesheet" href="./assets/style.css" />
    <!-- ICONSCOUT CDN -->
    <link
      rel="stylesheet"
      href="https://unicons.iconscout.com/release/v4.0.0/css/line.css"
    />
    <!-- GOOGLE FONT (MONTSERRAT) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav>
      <div class="container nav__container">
        <a href="index.html" class="nav__logo">News Portal 25</a>
        <ul class="nav__items">
          <li><a href="blog.html">Blog</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="categories.html">Categories</a></li>
          <li><a href="contact.html">Contact</a></li>
          <!-- <li class="nav__profile"> -->
            <!-- <div class="avatar">
            <img src="../assets/images/avatar1.jpg">
            </div> -->
            <!-- <ul>
            <li><a href="#" onclick="logout()">Logout</a></li>
            </ul> -->
            <!-- </li> -->
            </ul>
            <button id="open__nav-btn"><i class="uil uil-bars"></i></button>
            <button id="close__nav-btn"><i class="uil uil-multiply"></i></button>
            </div>
          
    </nav>
    <!-- ======================  END OF NAV  ==================== -->

    <section class="search__bar">
        <form class="container search__bar-container" action="">
            <div>
                <i class="uil uil-search"> </i>
                <input type="search" name="" placeholder="Search"> 
                </div>
                <button type="submit" class="btn"> Go </button>
        </form>
    </section>

    <!-- ======================  END OF POSTS  ==================== -->

    <section class="posts">
      <div class="container posts__container" id="newsContainer">
        <article class="post">
          
          </article>
      </div>
    </section>


    <!-- ======================  END OF CATEGORY BUTTONS  ==================== -->

    <footer>
      <div class="footer__socials">
        <a href="https://youtube.com" target="_blank"
          ><i class="uil uil-youtube"></i>
          <a href="https://facebook.com" target="_blank"
          ><i class="uil uil-facebook-f"></i>
          <a href="https://instagram.com" target="_blank"
          ><i class="uil uil-instagram-alt"></i>
          <a href="https://linkedin.com" target="_blank"
          ><i class="uil uil-linkedin"></i>
          <a href="https://twitter.com" target="_blank"
          ><i class="uil uil-twitter"></i>
        </a>
      </div>
      <div class="container footer__container">
        <article>
          <h4> Categories</h4>
          <ul>
            <li><a href="art.html">Art</a></li>
            <li><a href="wildlife.html">Wild Life</a></li>
            <li><a href="travel.html">Travel</a></li>
            <li><a href="tec.html">Science & Technology</a></li>
            <li><a href="food.html">Food</a></li>
            <li><a href="music.html">Music</a></li>
          </ul>
        </article>
      <article>
        <h4>Support</h4>
          <ul>
            <li><a href="tel:085810808990">Call Numbers</a></li>
            <li><a href="mailto:hanasucianindageofani@gmail.com">Emails</a></li>
            <li><a href="https://www.google.com/maps?q=lokasi">Location</a></li>
          </ul>
        </article>
        <article>
          <h4>Social Media Team</h4>
          <ul>
            <li><a href="https://instagram.com/amdfzy">Fauzy</a></li>
            <li><a href="https://instagram.com/hanageofani">Hana</a></li>
            <li><a href="https://instagram.com/khofkhof_fah">Fifah</a></li>
            <li><a href="https://instagram.com/usmanut09">Usman</a></li>
            <li><a href="https://instagram.com/st.nrrhlizaoct_">Liza</a></li>
            <li><a href="https://instagram.com/mrzarmlta">Meriza</a></li>
          </ul>
        </article>
          <article>
        <h4>Permalinks </h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="categories.html">Categories</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </article>
       
        </div>
        <div class="footer__copyright">
          <small>  Copyright &copf; Group25-Surabaya </small>
      </div>
    </footer>

    <script >
     const navItems = document.querySelector('.nav__items');
      const openNavBtn = document.querySelector('#open__nav-btn');
      const closeNavBtn = document.querySelector('#close__nav-btn');
      
      //opens nav dropdown
      const openNav = () => {
        navItems.style.display = 'flex';
        openNavBtn.style.display = 'none';
        closeNavBtn.style.display = 'inline-block';
      };
      
      //close nav dropdown
      const closeNav = () => {
        navItems.style.display = 'none';
        openNavBtn.style.display = 'inline-block';
        closeNavBtn.style.display = 'none';
      };
      
      openNavBtn.addEventListener('click', openNav);
      closeNavBtn.addEventListener('click', closeNav);
        // JavaScript untuk melakukan permintaan GET dan menampilkan data berita
        document.addEventListener('DOMContentLoaded', async function () {
        try {
          const response = await fetch('http://localhost:5500/news/getcategory/Science and Tech');
          const newsData = await response.json();
          console.log(newsData);
      
          const newsContainer = document.getElementById('newsContainer');
          // Mengosongkan container sebelum menambahkan data berita baru
          newsContainer.innerHTML = '';
      
          // Menambahkan data berita ke dalam container
          newsData.forEach(newsItem => {
            const newsElement = document.createElement('article');
            newsElement.classList.add('post');
      
            newsElement.innerHTML = `
              <div class="post__thumbnail">
                <img src="${newsItem.gambar}" >
              </div>
              <div class="post_info">
                <a href="" class="category__button">${newsItem.category}</a>
                <h3 class="post__title">
                  <a>${newsItem.title}</a>
                </h3>
                <p class="post__body">${newsItem.body}</p>
                <div class="post__author">
                  <div class="post__author-avatar">
                    <img src="./assets/images/avatar3.jpg" alt="Author Avatar">
                  </div>
                  <div class="post__author-info">
                    <h5>By: admin</h5>
                    <small>${newsItem.datenews}</small>
                  </div>
                </div>
              </div>
            `;
      
            newsContainer.appendChild(newsElement);
          });
      
        } catch (error) {
          console.error('Error fetching news:', error);
        }
      });
  </script>
  </body>
</html>
